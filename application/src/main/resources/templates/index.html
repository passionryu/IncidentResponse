<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Load Balanced App</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .card { border: 1px solid #ddd; padding: 20px; border-radius: 8px; max-width: 600px; }
        .meta { color: #666; font-size: 14px; }
    </style>
    <meta http-equiv="refresh" content="2">
    <!-- auto-refresh to visualize load balancing -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="data:,">
    <meta name="robots" content="noindex, nofollow">
    <meta name="description" content="Nginx least_conn load balancing demo">
    <meta name="theme-color" content="#ffffff">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name="referrer" content="no-referrer" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="LB Demo" />
</head>
<body>
<div class="card">
    <h1>Incident Response - LB Demo</h1>
    <p class="meta">서버 시간: <span th:text="${time}"></span></p>
    <p>현재 응답 인스턴스:</p>
    <ul>
        <li>호스트명: <strong th:text="${hostname}"></strong></li>
        <li>APP_INSTANCE: <strong th:text="${instance}"></strong></li>
    </ul>
    <p class="meta">페이지는 2초마다 자동 새로고침됩니다.</p>
    <p class="meta">Nginx는 least_conn 방식으로 3개의 Spring 인스턴스에 로드를 분산합니다.</p>
    <hr/>
    <p>부하 테스트는 브라우저 여러 탭을 열거나 간단한 스크립트로 동시 접속을 시도해보세요.</p>
    <pre>curl -s http://localhost:8080 | grep -E "호스트명|APP_INSTANCE" -A1</pre>
    <p class="meta">이 페이지는 SSR(Thymeleaf)로 렌더링됩니다.</p>
</div>
</body>
</html>


